[gd_scene load_steps=15 format=2]

[ext_resource path="res://perspective.gdshader" type="Shader" id=1]
[ext_resource path="res://MeshInstance.gd" type="Script" id=2]
[ext_resource path="res://assets/asteroid.obj" type="ArrayMesh" id=3]
[ext_resource path="res://Spaceship.tscn" type="PackedScene" id=4]
[ext_resource path="res://Background.gd" type="Script" id=6]
[ext_resource path="res://assets/ScreamingBrain/Blue Nebula/1024x1024 Blue Nebula 1.png" type="Texture" id=7]
[ext_resource path="res://Camera.gd" type="Script" id=8]
[ext_resource path="res://assets/ScreamingBrain/Blue Nebula/1024x1024 Blue Nebula 4.png" type="Texture" id=9]
[ext_resource path="res://starfield.gdshader" type="Shader" id=10]

[sub_resource type="ShaderMaterial" id=13]
shader = ExtResource( 10 )
shader_param/position = null
shader_param/nebula = ExtResource( 7 )

[sub_resource type="GDScript" id=15]
script/source = "extends Label

var move_scale_oom = 0.1

func _process(delta):
	return
	modify_move_scale()
	text = \"Move Scale.y: \" + str(get_node(\"../Background\").MOVE_SCALE.y) + \"\\n\" \\
		+ \"Change by: \" + str(move_scale_oom) + \"\\n\" \\
		+ \"J/L to change, I/K to change oom\"
	
func modify_move_scale():
	# Tired of manually iterating on this
	if Input.is_action_just_pressed(\"bg_scale_plus\"):
		get_node(\"../Background\").MOVE_SCALE.y += move_scale_oom
	if Input.is_action_just_pressed(\"bg_scale_minus\"):
		get_node(\"../Background\").MOVE_SCALE.y -= move_scale_oom
	if Input.is_action_just_pressed(\"bg_scale_oom_plus\"):
		move_scale_oom *= 10.0
	if Input.is_action_just_pressed(\"bg_scale_oom_minus\"):
		move_scale_oom /= 10.0
	if move_scale_oom >= 0.1:
		move_scale_oom = 0.1
"

[sub_resource type="Environment" id=9]
background_mode = 4
background_canvas_max_layer = -1

[sub_resource type="ShaderMaterial" id=5]
shader = ExtResource( 1 )
shader_param/xform = null
shader_param/inv_xform = null
shader_param/S = 0.5

[sub_resource type="ConvexPolygonShape" id=17]
points = PoolVector3Array( 0.0291231, 0.0284654, -1.05039, -0.699559, 0.0544144, -0.885851, -0.01957, 0.682887, -0.969354, 0.661642, 0.105469, -0.915481, 0.0484535, -0.586717, -1.01021, -0.562778, -0.858865, -0.503802, -1.23641, 0.138801, -0.507842, -0.349899, 0.78584, -0.800328, 0.521191, 0.950183, -0.573612, 0.520213, -0.89051, -0.520637, 1.21317, 0.215805, -0.455316, 1.26333, 0.0343724, -0.352284, -0.226576, -0.831439, -0.65532, -0.956482, -0.644311, 0.618551, -1.03282, -0.627433, -0.0245572, -0.0841677, -1.04093, 0.106309, -1.14856, -0.0297617, 0.379939, -0.984621, 0.62023, 0.834267, -0.981684, 0.729722, 0.091943, -0.504542, 1.00039, -0.461377, 0.75389, 0.943221, 0.0109092, -0.144361, 1.11411, 0.0966569, 0.36508, -0.938189, 0.228421, 0.989035, -0.666462, -0.0434128, 0.934225, 0.741325, 0.687913, 1.08691, 0.371921, 0.701156, 1.14343, -0.00486755, 0.392285, 0.940587, -0.573637, 0.643243, -0.241992, -0.937978, 0.388693, -0.398103, -0.6114, 1.04392, -0.907544, 0.224454, 0.925403, 0.352356, -0.694099, 1.02058, -0.0283787, -0.0206901, 1.2428, 0.596311, 0.726558, 0.98354, 0.117211, 1.0139, 0.779945, -0.57281, 1.00166, 0.406651, 0.68709, 0.0744563, 1.02394 )

[node name="Node" type="Node"]

[node name="Background" type="CanvasLayer" parent="."]
layer = -1

[node name="Background" type="TextureRect" parent="Background"]
material = SubResource( 13 )
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 9 )
stretch_mode = 2
script = ExtResource( 6 )

[node name="MoveScaleLabel" type="Label" parent="Background"]
margin_left = 12.0
margin_top = 12.0
margin_right = 52.0
margin_bottom = 26.0
script = SubResource( 15 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 9 )

[node name="3d" type="Spatial" parent="."]

[node name="CameraTransform" type="Spatial" parent="3d"]

[node name="Camera" type="Camera" parent="3d/CameraTransform"]
transform = Transform( 0.707107, 0.5, -0.5, 0, 0.707107, 0.707107, 0.707107, -0.5, 0.5, -4, 4, 4 )
projection = 1
size = 9.82505
near = 0.01
far = 500.0
script = ExtResource( 8 )

[node name="Spaceship" parent="3d" instance=ExtResource( 4 )]

[node name="Asteroid" type="RigidBody" parent="3d"]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3.12977 )
axis_lock_linear_y = true

[node name="MeshInstance2" type="MeshInstance" parent="3d/Asteroid"]
mesh = ExtResource( 3 )
skeleton = NodePath("../..")
material/0 = SubResource( 5 )
script = ExtResource( 2 )

[node name="CollisionShape" type="CollisionShape" parent="3d/Asteroid"]
shape = SubResource( 17 )

[node name="DirectionalLight" type="DirectionalLight" parent="3d"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0 )
