[gd_scene load_steps=11 format=2]

[ext_resource path="res://AsteroidLarge.tscn" type="PackedScene" id=1]
[ext_resource path="res://Spaceship.tscn" type="PackedScene" id=4]
[ext_resource path="res://Background.gd" type="Script" id=6]
[ext_resource path="res://assets/ScreamingBrain/Blue Nebula/1024x1024 Blue Nebula 1.png" type="Texture" id=7]
[ext_resource path="res://Camera.gd" type="Script" id=8]
[ext_resource path="res://assets/ScreamingBrain/Blue Nebula/1024x1024 Blue Nebula 4.png" type="Texture" id=9]
[ext_resource path="res://starfield.gdshader" type="Shader" id=10]

[sub_resource type="ShaderMaterial" id=13]
shader = ExtResource( 10 )
shader_param/position = null
shader_param/nebula = ExtResource( 7 )

[sub_resource type="GDScript" id=15]
script/source = "extends Label

var move_scale_oom = 0.1

func _process(delta):
	return
	modify_move_scale()
	text = \"Move Scale.y: \" + str(get_node(\"../Background\").MOVE_SCALE.y) + \"\\n\" \\
		+ \"Change by: \" + str(move_scale_oom) + \"\\n\" \\
		+ \"J/L to change, I/K to change oom\"
	
func modify_move_scale():
	# Tired of manually iterating on this
	if Input.is_action_just_pressed(\"bg_scale_plus\"):
		get_node(\"../Background\").MOVE_SCALE.y += move_scale_oom
	if Input.is_action_just_pressed(\"bg_scale_minus\"):
		get_node(\"../Background\").MOVE_SCALE.y -= move_scale_oom
	if Input.is_action_just_pressed(\"bg_scale_oom_plus\"):
		move_scale_oom *= 10.0
	if Input.is_action_just_pressed(\"bg_scale_oom_minus\"):
		move_scale_oom /= 10.0
	if move_scale_oom >= 0.1:
		move_scale_oom = 0.1
"

[sub_resource type="Environment" id=9]
background_mode = 4
background_canvas_max_layer = -1
ambient_light_energy = 0.0
ambient_light_sky_contribution = 0.0
glow_enabled = true
glow_intensity = 0.25
glow_bloom = 0.2
glow_blend_mode = 0

[node name="Node" type="Node"]

[node name="Background" type="CanvasLayer" parent="."]
layer = -1

[node name="Background" type="TextureRect" parent="Background"]
material = SubResource( 13 )
anchor_right = 1.0
anchor_bottom = 1.0
texture = ExtResource( 9 )
stretch_mode = 2
script = ExtResource( 6 )

[node name="MoveScaleLabel" type="Label" parent="Background"]
margin_left = 12.0
margin_top = 12.0
margin_right = 52.0
margin_bottom = 26.0
script = SubResource( 15 )

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 9 )

[node name="World" type="Spatial" parent="."]

[node name="Asteroid" parent="World" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 8.6067 )
collision_mask = 1

[node name="Asteroid2" parent="World" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -5.7761, 0, 0 )
collision_mask = 1

[node name="Asteroid3" parent="World" instance=ExtResource( 1 )]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 11.3459, 0, 0 )
collision_mask = 1

[node name="CameraTransform" type="Spatial" parent="World"]

[node name="Camera" type="Camera" parent="World/CameraTransform"]
transform = Transform( 0.707107, 0.5, -0.5, 0, 0.707107, 0.707107, 0.707107, -0.5, 0.5, -4.5, 6, 4.5 )
projection = 1
size = 9.82505
near = 0.01
far = 500.0
script = ExtResource( 8 )

[node name="Spaceship" parent="World" instance=ExtResource( 4 )]

[node name="DirectionalLight" type="DirectionalLight" parent="World"]
transform = Transform( 1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, 0 )
light_energy = 0.5

[connection signal="body_entered" from="World/Asteroid" to="World/Asteroid" method="_on_Asteroid_body_entered"]
[connection signal="body_entered" from="World/Asteroid2" to="World/Asteroid2" method="_on_Asteroid_body_entered"]
[connection signal="body_entered" from="World/Asteroid3" to="World/Asteroid3" method="_on_Asteroid_body_entered"]
